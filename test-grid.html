    #testGrid {
      display: grid;
      grid-template-columns: repeat(52, 1fr);
      grid-template-rows: repeat(20, 1fr);
      gap: 1px;
      max-width: 100%;
      position: relative;
      padding: 1px;
      border: 1px solid #eaeaea;
      border-radius: 8px;
    }
    
    .week { 
      position: relative; 
      background-color: #f8f9fa; 
    }
    .week::before { 
      content: ""; 
      display: block; 
      padding-top: 100%; 
    }
    
    .week-inner {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      border: 1px solid #eaeaea;
      background-color: #f8f9fa;
      border-radius: 3px;
      transition: background 0.3s, transform 0.1s ease, box-shadow 0.1s ease;
      cursor: pointer;
    }
    
    .week-inner:hover {
      transform: scale(1.05);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
      z-index: 10;
    }
    
    /* Add visual gaps for month boundaries (every 4 weeks) and decade boundaries */
    .week.month-boundary .week-inner {
      border-right: 4px solid #f0f0f0;
      position: relative;
    }
    .week.month-boundary .week-inner::after {
      content: '';
      position: absolute;
      right: -4px;
      top: 0;
      bottom: 0;
      width: 4px;
      background-color: #f8f9fa;
      z-index: 1;
    }
    .week.decade-boundary .week-inner {
      border-bottom: 6px solid #f0f0f0;
      position: relative;
    }
    .week.decade-boundary .week-inner::before {
      content: '';
      position: absolute;
      bottom: -6px;
      left: 0;
      right: 0;
      height: 6px;
      background-color: #f8f9fa;
      z-index: 1;
    }
    /* Ensure decade boundaries also get month boundary styling */
    .week.decade-boundary.month-boundary .week-inner {
      border-right: 4px solid #f0f0f0;
      border-bottom: 6px solid #f0f0f0;
    }
    .week.decade-boundary.month-boundary .week-inner::after {
      content: '';
      position: absolute;
      right: -4px;
      top: 0;
      bottom: 0;
      width: 4px;
      background-color: #f8f9fa;
      z-index: 1;
    }
    .week.decade-boundary.month-boundary .week-inner::before {
      content: '';
      position: absolute;
      bottom: -6px;
      left: 0;
      right: 0;
      height: 6px;
      background-color: #f8f9fa;
      z-index: 1;
    }
    #testGrid {
      display: grid;
      /* Create enhanced grid with visual gaps using CSS Grid */
      grid-template-columns: 
        repeat(4, 1fr) 6px  /* Jan: 4 weeks + gap */
        repeat(4, 1fr) 6px  /* Feb: 4 weeks + gap */
        repeat(5, 1fr) 6px  /* Mar: 5 weeks + gap */
        repeat(4, 1fr) 6px  /* Apr: 4 weeks + gap */
        repeat(4, 1fr) 6px  /* May: 4 weeks + gap */
        repeat(5, 1fr) 6px  /* Jun: 5 weeks + gap */
        repeat(4, 1fr) 6px  /* Jul: 4 weeks + gap */
        repeat(4, 1fr) 6px  /* Aug: 4 weeks + gap */
        repeat(5, 1fr) 6px  /* Sep: 5 weeks + gap */
        repeat(4, 1fr) 6px  /* Oct: 4 weeks + gap */
        repeat(4, 1fr) 6px  /* Nov: 4 weeks + gap */
        repeat(5, 1fr);     /* Dec: 5 weeks (no gap at end) */
      grid-template-rows: 
        repeat(10, 1fr) 10px  /* Decade 1: 10 years + gap */
        repeat(10, 1fr);      /* Decade 2: 10 years (reduced for testing) */
      gap: 1px;
      max-width: 100%;
      position: relative;
      padding: 1px;
      border: 1px solid #eaeaea;
      border-radius: 8px;
    }
    
    .week { 
      position: relative; 
      background-color: #f8f9fa; 
    }
    .week::before { 
      content: ""; 
      display: block; 
      padding-top: 100%; 
    }
    
    .week-inner {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      border: 1px solid #eaeaea;
      background-color: #f8f9fa;
      border-radius: 3px;
      transition: background 0.3s, transform 0.1s ease, box-shadow 0.1s ease;
      cursor: pointer;
    }
    
    .week-inner:hover {
      transform: scale(1.05);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
      z-index: 10;
    } 
  <script>
    const testGrid = document.getElementById('testGrid');
    const totalWeeks = 52 * 20; // 20 years for testing
    const weeksPerYear = 52;
    
    // Helper functions for new grid positioning
    function getGridColumnPosition(weekIndex) {
      const monthWeeks = [4,4,5,4,4,5,4,4,5,4,4,5];
      let position = 1;
      let remainingWeeks = weekIndex;
      
      for (let month = 0; month < 12; month++) {
        if (remainingWeeks < monthWeeks[month]) {
          return position + remainingWeeks;
        }
        position += monthWeeks[month];
        remainingWeeks -= monthWeeks[month];
        
        if (month < 11) {
          position += 1; // gap column
        }
      }
      
      return position;
    }
    
    function getGridRowPosition(yearIndex) {
      const decade = Math.floor(yearIndex / 10);
      const yearInDecade = yearIndex % 10;
      
      return decade * 11 + yearInDecade + 1;
    }
    
    // Create test grid cells
    for (let gridIndex = 0; gridIndex < totalWeeks; gridIndex++) {
      const year = Math.floor(gridIndex / weeksPerYear);
      const weekInYear = gridIndex % weeksPerYear;
      const weekDiv = document.createElement("div");
      weekDiv.classList.add("week");
      weekDiv.dataset.weekIndex = gridIndex;
      
      // Calculate correct grid position in new structure with gaps
      const gridColumn = getGridColumnPosition(weekInYear);
      const gridRow = getGridRowPosition(year);
      weekDiv.style.gridColumn = gridColumn;
      weekDiv.style.gridRow = gridRow;
      
      const innerDiv = document.createElement("div");
      innerDiv.classList.add("week-inner");
      
      // Add some lived weeks for testing
      if (gridIndex < 500) {
        weekDiv.classList.add("lived");
      }
      
      weekDiv.appendChild(innerDiv);
      testGrid.appendChild(weekDiv);
    }
  </script> 